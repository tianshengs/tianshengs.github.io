<head><meta charset="utf-8" /><script src="https://cdn.plot.ly/plotly-1.34.0.min.js"></script><script src="file:///C:/Users/tianshengs/AppData/Roaming/QGIS/QGIS3/profiles/default/python/plugins/DataPlotly/jsscripts/plotly-1.34.0.min.js"></script></head><div id="a5637047-fec8-46d8-86c0-5b3cbf1ca06d" style="height: 100%; width: 100%;" class="plotly-graph-div"></div><script type="text/javascript">window.PLOTLYENV=window.PLOTLYENV || {};window.PLOTLYENV.BASE_URL="https://plot.ly";Plotly.newPlot("a5637047-fec8-46d8-86c0-5b3cbf1ca06d", [{"customdata": ["cbdDistSQL"], "hoverinfo": "all", "ids": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162], "line": {"dash": "solid", "width": 1.0}, "marker": {"color": "#8ebad9", "colorbar": {"len": 0.8}, "line": {"color": "#1f77b4", "width": 1.0}, "reversescale": false, "showscale": false, "size": 4.0, "symbol": 0}, "mode": "markers", "name": "cbdDistSQL - percentage", "opacity": 1.0, "text": [], "x": [2366.272896099256, 8242.766397043548, 3817.6888271518937, 7931.579896873047, 6498.408578608372, 12304.186699337974, 8988.900868907625, 9429.950386485763, 9936.777166239412, 11337.717237399263, 15848.585723521772, 7136.173116611713, 220.37259649250234, 237.13859207498243, 4739.099130106451, 10593.717615101128, 8812.528090901702, 15075.04777383708, 8805.523116378852, 15937.332957602419, 3788.2415621675514, 7116.215769239486, 8914.187602752092, 8172.966029699584, 12834.627770082208, 14767.304827136937, 10067.306203426635, 9253.851170923459, 7480.257051297586, 12317.961532625115, 7527.018473827034, 6939.895635036846, 5415.483001205535, 8221.820223776218, 13670.428714472855, 6640.755316605984, 831.5680783709428, 12938.676473144105, 13424.132999726258, 13948.383055844359, 12807.324719873921, 12466.435173729156, 11025.75048043687, 7608.584055388641, 14547.478512563475, 14043.406739278524, 9368.195032655543, 5923.712017099213, 5123.828952503508, 7788.375623444025, 10569.639227381784, 10522.228748408632, 11098.514095309223, 12778.9461948108, 11474.837267239338, 10694.034343742811, 12534.17303256975, 16460.65079006131, 9328.82507219469, 8238.826126086751, 9244.523228309605, 9322.810803018368, 9887.254108967752, 5568.338336876692, 6963.247787566588, 8089.256722282801, 7987.90724283049, 8974.060222668917, 12211.688420736034, 12511.56869653242, 10156.69273487915, 9548.60626383269, 12575.727629100918, 6624.914622361959, 6348.534512974531, 6637.551332719469, 6879.588863346383, 7460.9063114071705, 6099.964066066976, 8030.131922359331, 13615.661280175442, 5574.722603317456, 6619.5835779856525, 13293.246843456278, 918.1789606145327, 11244.818191807075, 7434.70183645001, 6248.873610095365, 7881.909465231103, 8437.646966102735, 9165.177858090508, 11553.7283036047, 13669.025338789535, 13922.586436755599, 8747.360333350094, 16691.78288635626, 14534.603892136809, 12073.973290022403, 9406.240532614569, 8409.731450365527, 15081.11610365116, 10407.293735678813, 16640.007649323215, 19021.082372752975, 14145.166447887912, 14980.637721888093, 16683.208944150003, 5891.057448917066, 6371.038503011986, 4307.084235347167, 7461.178800638825, 7971.037782106622, 8772.350093425122, 7362.193332909843, 4306.204429092093, 5593.5890763202115, 7827.145104537037, 12196.433222404297, 10400.341238376626, 16373.763113458239, 2762.802163576428, 7646.901752349379, 10133.249701415712, 11539.117945738875, 14160.401144624551, 13465.884863620002, 13746.497857298478, 21244.618563121392, 10060.965024908779, 18277.363774552756, 9265.971544626469, 13657.145750315172, 8063.10453565779, 9407.22138835386, 11525.30061074072, 11193.994012124555, 6579.786381772392, 9642.751995806266, 8455.58704720894, 22124.85675106205, 14128.354212018568, 13231.417757263422, 13757.759852787625, 14812.014309765686, 10299.890153179136, 16037.063501366782, 7056.0969264914265, 11935.321050760624, 7857.222135394836, 10831.05069869278, 9252.71991515848, 13775.666694159088, 8141.6581114225455, 14181.051652038075, 11898.837877197278], "y": [0.971, 1.0, 0.98, 0.991, 1.0, 0.982, 0.99, 0.985, 0.943, 0.996, 0.996, 0.988, 0.961, 0.918, 0.975, 0.995, 0.994, 0.991, 0.982, 0.992, 1.0, 0.987, 1.0, 0.997, 0.988, 0.992, 0.993, 0.945, 1.0, 0.969, 1.0, 0.974, 0.996, 1.0, 0.974, 1.0, 0.676, 0.982, 0.987, 0.997, 0.972, 0.991, 0.974, 0.992, 0.978, 1.0, 0.918, 0.981, 0.932, 0.995, 0.988, 0.983, 0.988, 0.997, 0.963, 0.979, 0.943, 1.0, 0.958, 1.0, 0.991, 0.938, 1.0, 0.991, 0.981, 0.98, 0.985, 0.984, 0.995, 0.982, 0.993, 0.988, 0.986, 0.838, 0.958, 0.969, 0.992, 0.988, 0.995, 0.992, 0.992, 0.976, 0.971, 0.973, 0.94, 0.974, 0.997, 0.985, 0.997, 0.988, 0.985, 0.994, 0.993, 0.995, 0.99, 0.981, 0.994, 0.963, 0.989, 0.992, 1.0, 1.0, 1.0, 0.995, 0.992, 1.0, 0.993, 0.986, 0.982, 0.976, 1.0, 0.956, 0.989, 0.991, 0.909, 0.927, 0.909, 0.991, 0.994, 0.978, 0.973, 1.0, 0.996, 0.964, 0.972, 0.997, 0.991, 0.992, 1.0, 1.0, 0.998, 1.0, 0.966, 0.951, 0.98, 0.999, 0.985, 0.991, 0.977, 1.0, 1.0, 0.991, 0.99, 0.985, 0.93, 0.993, 0.986, 0.983, 0.979, 0.994, 0.986, 1.0, 1.0, 0.995, 0.987], "type": "scatter", "uid": "ae43acc6-fdc9-11e9-9c6e-e4b97af7acad"}], {"legend": {"orientation": "v"}, "showlegend": true, "title": "", "xaxis": {"rangeslider": {"borderwidth": 1, "visible": false}, "title": "cbdDistSQL", "type": "linear"}, "yaxis": {"title": "percentage", "type": "linear"}}, {"editable": true, "scrollZoom": true, "showLink": false, "linkText": "Export to plot.ly", "modeBarButtonsToRemove": ["toImage", "sendDataToCloud", "editInChartStudio"]})</script>
        <script>
        // additional js function to select and click on the data
        // returns the ids of the selected/clicked feature

        var plotly_div = document.getElementById('a5637047-fec8-46d8-86c0-5b3cbf1ca06d')
        var plotly_data = plotly_div.data

        // selecting function
        plotly_div.on('plotly_selected', function(data){
        var dds = {};
        dds["mode"] = 'selection'
        dds["type"] = data.points[0].data.type

        featureIds = [];
        featureIdsTernary = [];

        data.points.forEach(function(pt){
        featureIds.push(parseInt(pt.id))
        featureIdsTernary.push(parseInt(pt.pointNumber))
        dds["id"] = featureIds
        dds["tid"] = featureIdsTernary
            })
        //console.log(dds)
        window.status = JSON.stringify(dds)
        })

        // clicking function
        plotly_div.on('plotly_click', function(data){
        var featureIds = [];
        var dd = {};
        dd["fidd"] = data.points[0].id
        dd["mode"] = 'clicking'

        // loop and create dictionary depending on plot type
        for(var i=0; i < data.points.length; i++){

        // scatter plot
        if(data.points[i].data.type == 'scatter'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type

            data.points.forEach(function(pt){
            dd["fid"] = pt.id
            })
        }

        // pie

        else if(data.points[i].data.type == 'pie'){
          dd["type"] = data.points[i].data.type
          dd["label"] = data.points[i].label
          dd["field"] = data.points[i].data.name
          console.log(data.points[i].label)
          console.log(data.points[i])
        }

        // histogram
        else if(data.points[i].data.type == 'histogram'){
            dd["type"] = data.points[i].data.type
            dd["uid"] = data.points[i].data.uid
            dd["field"] = data.points[i].data.name

            // correct axis orientation
            if(data.points[i].data.orientation == 'v'){
                dd["id"] = data.points[i].x
                dd["bin_step"] = data.points[i].data.xbins.size
            }
            else {
                dd["id"] = data.points[i].y
                dd["bin_step"] = data.points[i].data.ybins.size
            }
        }

        // box plot
        else if(data.points[i].data.type == 'box'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata[0]

                // correct axis orientation
                if(data.points[i].data.orientation == 'v'){
                    dd["id"] = data.points[i].x
                }
                else {
                    dd["id"] = data.points[i].y
                }
            }

        // violin plot
        else if(data.points[i].data.type == 'violin'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata[0]

                // correct axis orientation (for violin is viceversa)
                if(data.points[i].data.orientation == 'v'){
                    dd["id"] = data.points[i].x
                }
                else {
                    dd["id"] = data.points[i].y
                }
            }

        // bar plot
        else if(data.points[i].data.type == 'bar'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata[0]

                // correct axis orientation
                if(data.points[i].data.orientation == 'v'){
                    dd["id"] = data.points[i].x
                }
                else {
                    dd["id"] = data.points[i].y
                }
            }

        // ternary
        else if(data.points[i].data.type == 'scatterternary'){
            dd["uid"] = data.points[i].data.uid
            dd["type"] = data.points[i].data.type
            dd["field"] = data.points[i].data.customdata
            dd["fid"] = data.points[i].pointNumber
            }

            }
        window.status = JSON.stringify(dd)
        });
        </script>
